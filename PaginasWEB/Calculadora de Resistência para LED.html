<html><head><base href="https://ledresistancecalculator.com/">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora de Resistência para LED</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f0f0f0;
    margin: 0;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }
  .container {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    max-width: 400px;
    width: 100%;
  }
  h1 {
    color: #333;
    text-align: center;
  }
  label {
    display: block;
    margin-top: 10px;
  }
  input, select {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box;
  }
  button {
    background-color: #4CAF50;
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    width: 100%;
    margin-top: 20px;
  }
  button:hover {
    background-color: #45a049;
  }
  #result {
    margin-top: 20px;
    font-weight: bold;
  }
  #savedResults {
    margin-top: 20px;
  }
  .saved-item {
    background-color: #e9e9e9;
    padding: 10px;
    margin-top: 10px;
    border-radius: 4px;
  }
</style>
</head>
<body>
  <div class="container">
    <h1>Calculadora de Resistência para LED</h1>
    <form id="ledForm">
      <label for="ledColor">Cor do LED:</label>
      <select id="ledColor" required>
        <option value="">Selecione a cor</option>
        <option value="vermelho">Vermelho</option>
        <option value="verde">Verde</option>
        <option value="azul">Azul</option>
        <option value="amarelo">Amarelo</option>
        <option value="branco">Branco</option>
      </select>

      <label for="ledVoltage">Voltagem do LED (V):</label>
      <input type="number" id="ledVoltage" step="0.1" required>

      <label for="sourceVoltage">Voltagem da Fonte (V):</label>
      <input type="number" id="sourceVoltage" step="0.1" required>

      <button type="submit">Calcular</button>
    </form>

    <div id="result"></div>
    <div id="savedResults"></div>
  </div>

  <script>
    const ledForm = document.getElementById('ledForm');
    const result = document.getElementById('result');
    const savedResults = document.getElementById('savedResults');
    let savedCalculations = JSON.parse(localStorage.getItem('ledCalculations')) || [];

    ledForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const ledColor = document.getElementById('ledColor').value;
      const ledVoltage = parseFloat(document.getElementById('ledVoltage').value);
      const sourceVoltage = parseFloat(document.getElementById('sourceVoltage').value);
      
      // Assumindo uma corrente típica de 20mA para LEDs
      const current = 0.02;

      const resistance = ((sourceVoltage - ledVoltage) / current).toFixed(2);
      const power = (Math.pow((sourceVoltage - ledVoltage), 2) / resistance).toFixed(2);

      const resultText = `
        Para um LED ${ledColor} de ${ledVoltage}V, usando uma fonte de ${sourceVoltage}V:
        <br>
        R = (V<sub>fonte</sub> - V<sub>LED</sub>) / I
        <br>
        R = (${sourceVoltage} - ${ledVoltage}) / ${current}
        <br>
        R ≈ ${resistance} Ω
        <br>
        Potência do resistor: P = (${sourceVoltage} - ${ledVoltage})² / ${resistance} ≈ ${power}W
      `;

      result.innerHTML = resultText;

      // Salvar o cálculo
      savedCalculations.push({
        ledColor,
        ledVoltage,
        sourceVoltage,
        resistance,
        power,
        date: new Date().toLocaleString()
      });
      localStorage.setItem('ledCalculations', JSON.stringify(savedCalculations));
      
      displaySavedResults();
    });

    function displaySavedResults() {
      savedResults.innerHTML = '<h3>Cálculos Salvos:</h3>';
      savedCalculations.forEach((calc, index) => {
        savedResults.innerHTML += `
          <div class="saved-item">
            <strong>${calc.date}</strong><br>
            LED ${calc.ledColor} de ${calc.ledVoltage}V, Fonte de ${calc.sourceVoltage}V<br>
            Resistência: ${calc.resistance}Ω, Potência: ${calc.power}W
            <button onclick="deleteCalculation(${index})">Excluir</button>
          </div>
        `;
      });
    }

    function deleteCalculation(index) {
      savedCalculations.splice(index, 1);
      localStorage.setItem('ledCalculations', JSON.stringify(savedCalculations));
      displaySavedResults();
    }

    // Exibir resultados salvos ao carregar a página
    displaySavedResults();
  </script>
</body>
</html>